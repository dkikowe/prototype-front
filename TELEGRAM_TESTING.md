# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram Mini App

## –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º username

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ username –∏–∑ Telegram, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### 1. –ó–∞–ø—É—â–µ–Ω—ã –ª–∏ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞?

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:

- `üîç Debug - tg exists:` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `true` –≤ Telegram
- `üîç Debug - tg.initDataUnsafe:` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏
- `üë§ Telegram User Info:` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 2. –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –ª–∏ –≤—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram?

**–í–∞–∂–Ω–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram Mini App, –∞ –Ω–µ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.

#### –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram:

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather**

   - –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
   - –ù–∞–π–¥–∏—Ç–µ @BotFather
   - –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App**

   ```
   /newapp - —Å–æ–∑–¥–∞—Ç—å Web App –¥–ª—è –±–æ—Ç–∞
   –ù–∞–∑–≤–∞–Ω–∏–µ: –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   Short name: your-app
   URL: https://your-domain.com (–≥–¥–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Menu –∏–ª–∏ –∫–Ω–æ–ø–∫—É —Å –≤–∞—à–∏–º Web App**

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ï—Å–ª–∏ –≤—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:

- –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è: `üîß Development mode - Fallback user:`
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ Telegram

### 4. Debug —Ä–µ–∂–∏–º

–í development —Ä–µ–∂–∏–º–µ –ø–æ–¥ username –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:

- "has data" - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ Telegram
- "no data" - –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
window.Telegram?.WebApp?.initDataUnsafe?.user;
```

–ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –∏–ª–∏ `undefined` - –≤—ã –Ω–µ –≤ Telegram —Å—Ä–µ–¥–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram:

```javascript
{
  id: 123456789,           // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  first_name: "–ò–º—è",       // –ò–º—è
  last_name: "–§–∞–º–∏–ª–∏—è",    // –§–∞–º–∏–ª–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  username: "username",    // Username (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  language_code: "ru",     // –ö–æ–¥ —è–∑—ã–∫–∞
  is_premium: true/false  // –ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å
}
```

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **Username –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –Ω–µ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç username
2. –ï—Å–ª–∏ username –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: `user{id}` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `user123456789`)
3. –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Telegram
